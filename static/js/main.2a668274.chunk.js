(this["webpackJsonpcards-nya"]=this["webpackJsonpcards-nya"]||[]).push([[0],{20:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__11lfD",spanClassName:"SuperCheckbox_spanClassName__7_Yre",checkmark:"SuperCheckbox_checkmark__ewbX4",container:"SuperCheckbox_container__1YCGq"}},24:function(e,t,n){e.exports={superInput:"SuperInput_superInput__1GUOs",errorInput:"SuperInput_errorInput__2SR5j",error:"SuperInput_error__2FQdm"}},25:function(e,t,n){e.exports={wrapper:"Error404_wrapper__2WpHM",title:"Error404_title__1_7jg",subtitle:"Error404_subtitle__19TTw"}},31:function(e,t,n){e.exports={default:"SuperButton_default__FlHuv",red:"SuperButton_red__jtp3O"}},32:function(e,t,n){e.exports={header:"Header_header__1FryV",logoutBtn:"Header_logoutBtn__3vxl8"}},44:function(e,t,n){e.exports={isEditable:"EditableSpan_isEditable__2--ik"}},55:function(e,t,n){},56:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r,c,a,s=n(1),o=n.n(s),i=n(21),u=n.n(i),j=(n(55),n(3)),l=(n(56),n(10)),b=n(6),d=n(5),p=n(11),h=n(24),O=n.n(h),x=n(0),f=function(e){var t=e.type,n=void 0===t?"text":t,r=e.onChange,c=e.onChangeText,a=e.onKeyPress,s=e.onEnter,o=e.error,i=e.className,u=e.spanClassName,j=Object(p.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat(O.a.error," ").concat(u||""),b="".concat(O.a.superInput," ").concat(i||""," ").concat(o?O.a.errorInput:"");return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",Object(d.a)({type:n,onChange:function(e){r&&r(e),c&&c(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),"Enter"===e.key&&s&&s()},className:b},j)),o&&Object(x.jsx)("span",{className:l,children:o})]})},m=n(44),g=n.n(m),v=function(e){e.autoFocus;var t=e.onBlur,n=e.onEnter,r=e.spanProps,c=Object(p.a)(e,["autoFocus","onBlur","onEnter","spanProps"]),a=Object(s.useState)(!1),o=Object(j.a)(a,2),i=o[0],u=o[1],l=r||{},b=l.children,h=l.onDoubleClick,O=l.className,m=Object(p.a)(l,["children","onDoubleClick","className"]),v="".concat(i?"":g.a.isEditable," ").concat(O);return Object(x.jsx)(x.Fragment,{children:i?Object(x.jsx)(f,Object(d.a)({autoFocus:!0,onBlur:function(e){u(!1),t&&t(e)},onEnter:function(){u(!1),n&&n()}},c)):Object(x.jsx)("span",Object(d.a)(Object(d.a)({onDoubleClick:function(e){u(!0),h&&h(e)},className:v},m),{},{children:b||c.value}))})},C=n(4),S=function(e){return e.auth},k=function(e){return e.app},w=n.p+"static/media/user-logo.e327041b.svg",_=n(7),y=n.n(_),E=n(16),N=n(46),T=n.n(N).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),I=function(){return T.post("auth/me",{})},L=function(e,t,n){return T.post("auth/login",{email:e,password:t,rememberMe:n})},F=function(){return T.delete("auth/me")},R=function(e){return T.post("auth/forgot",{email:e,message:'<div style="font-size: 16px">Click the link below and you\'ll be redirected to a site where you can set a new password</div>\n                <div><a style="'.concat("border-radius: 3px;\n    background: #3aa54c;\n    color: #fff;\n    display: block;\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 1.25em;\n    margin: 24px 0;\n    padding: 10px 18px;\n    text-decoration: none;\n    width: 180px;\n    text-align: center;","\" href='https://m-marc.github.io/cards-nya/#/newpassword/$token$'>Set new password</a></div>")}).then((function(e){return e.data}))},P=function(e,t){return T.post("auth/set-new-password",{password:e,resetPasswordToken:t}).then((function(e){return e.data}))},A=function(e,t){return T.post("auth/register",{email:e,password:t})},B=function(e,t){return T.put("auth/me",{name:e,avatar:t}).then((function(e){return e.data}))},D=function(e){return{type:"Auth/login",userData:e}},G=function(e,t){return{type:"register",email:e,password:t}},H=function(e){return{type:"app/SET_LOADING",isLoading:e}},W=function(e){return{type:"app/SET_ERROR",error:e}},Z=function(e){return{type:"app/SET_SUCCESS",success:e}},U=function(e){var t=e.position,n=void 0===t?"initial":t;return Object(x.jsx)("div",{className:"spinnerWrapper ".concat("center"===n?"spinnerWrapper--center":""),children:Object(x.jsx)("div",{className:"spinnerInner",children:Object(x.jsx)("div",{className:"spinner",children:"\xa0"})})})},$=function(){var e=Object(C.c)(S),t=e.isLoggedIn,n=e.userData,r=Object(C.c)(k).isLoading,c=Object(s.useState)(n.avatar||""),o=Object(j.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(n.name||""),d=Object(j.a)(l,2),p=d[0],h=d[1],O=Object(C.b)(),f=function(){return O(function(e,t){return function(){var n=Object(E.a)(y.a.mark((function n(r){var c,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(H(!0)),n.prev=1,n.next=4,B(e,t);case 4:c=n.sent,r(D(c.updatedUser)),r(Z(!0)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),a=n.t0.response?n.t0.response.data.error:n.t0.message+", more details in the console",r(W(a));case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(p,i))};return t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Profile page"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:n.avatar?n.avatar:w,alt:"user-avatar",width:"100"}),Object(x.jsx)("div",{children:Object(x.jsx)(v,{value:i,onChangeText:u,onBlur:f,spanProps:{children:"Change avatar"}})}),Object(x.jsxs)("div",{children:["username:",Object(x.jsx)(v,{value:p,onChangeText:h,onBlur:f,onEnter:f,spanProps:{children:n.name?n.name:"Change username"}})]}),r?Object(x.jsx)(U,{}):Object(x.jsx)(x.Fragment,{})]})]}):Object(x.jsx)(b.a,{to:a.LOGIN})},q=n(25),z=n.n(q),K=function(){return Object(x.jsxs)("div",{className:z.a.wrapper,children:[Object(x.jsx)("h1",{className:z.a.title,children:"404"}),Object(x.jsx)("h3",{className:z.a.subtitle,children:"Page not found!"}),Object(x.jsxs)("p",{children:["This may not mean anything.",Object(x.jsx)("br",{}),"I'm probably working on something that has blown up."]}),Object(x.jsx)("p",{children:"Anyway, Hello World!"})]})},M=n(31),J=n.n(M),Y=function(e){var t=e.red,n=e.className,r=Object(p.a)(e,["red","className"]),c="".concat(t?J.a.red:J.a.default," ").concat(n);return Object(x.jsx)("button",Object(d.a)({className:c},r))},Q=n(20),V=n.n(Q),X=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,c=(e.spanClassName,e.children),a=Object(p.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(V.a.checkbox," ").concat(r||"");return Object(x.jsxs)("label",{className:V.a.container,children:[Object(x.jsx)("input",Object(d.a)({type:"checkbox",onChange:function(e){n&&n(e.currentTarget.checked),t&&t(e)},className:s},a)),Object(x.jsx)("span",{className:V.a.checkmark,children:"\xa0"}),c&&Object(x.jsx)("span",{className:V.a.spanClassName,children:c})]})},ee=function(e){var t=e.options,n=e.onChange,r=e.onChangeOption,c=Object(p.a)(e,["options","onChange","onChangeOption"]),a=t?t.map((function(e,t){return Object(x.jsx)("option",{children:e},"o_"+t)})):[];return Object(x.jsx)("select",Object(d.a)(Object(d.a)({onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)}},c),{},{children:a}))},te=function(e){e.type;var t=e.name,n=e.options,r=e.value,c=e.onChange,a=e.onChangeOption,s=(Object(p.a)(e,["type","name","options","value","onChange","onChangeOption"]),function(e){c&&c(e),a&&a(e.currentTarget.value)}),o=n?n.map((function(e,n){return Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"radio",name:t,value:e,onChange:s,checked:r===e}),e]},t+"-"+n)})):[];return Object(x.jsx)(x.Fragment,{children:o})},ne=function(){var e=["x","y","z"],t=Object(s.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(!1),o=Object(j.a)(a,2),i=o[0],u=o[1],l=Object(s.useState)(e[1]),b=Object(j.a)(l,2),d=b[0],p=b[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Here is the list of Super components:"}),Object(x.jsx)("div",{children:Object(x.jsx)(Y,{onClick:function(){return alert("Input value is: ".concat(r,"\nCheckbox checked: ").concat(i,"\nSelected radio/option: ").concat(d))},children:"Check status"})}),Object(x.jsx)("div",{children:Object(x.jsx)(X,{checked:i,onChangeChecked:u,children:"Label for checkbox"})}),Object(x.jsx)("div",{children:Object(x.jsx)(ee,{options:e,value:d,onChangeOption:p})}),Object(x.jsx)("div",{children:Object(x.jsx)(te,{name:"radio",options:e,value:d,onChangeOption:p})}),Object(x.jsx)("div",{children:Object(x.jsx)(v,{value:r,onChangeText:c,spanProps:{children:r?void 0:"Enter text..."}})})]})},re=n(22),ce=n(23),ae=ce.a.div(r||(r=Object(re.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),se=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(""),o=Object(j.a)(c,2),i=o[0],u=o[1],d=Object(s.useState)(!0),p=Object(j.a)(d,2),h=p[0],O=p[1],m=Object(C.c)(k),g=m.error,v=m.isLoading,S=Object(C.c)((function(e){return e.auth.isLoggedIn})),w=Object(C.b)(),_=function(e){g&&w(W("")),"password"===e.currentTarget.type?u(e.currentTarget.value):r(e.currentTarget.value)};return S?Object(x.jsx)(b.a,{to:a.PROFILE}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsxs)(ae,{children:[Object(x.jsx)(f,{value:n,onChange:_}),Object(x.jsx)(f,{type:"password",value:i,onChange:_}),Object(x.jsx)(X,{checked:h,onChangeChecked:O,children:"Remember me"}),Object(x.jsx)("div",{children:Boolean(g)&&Object(x.jsx)("span",{style:{color:"red"},children:g})}),v?Object(x.jsx)(U,{}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)(Y,{onClick:function(){return w(function(e,t,n){return function(){var r=Object(E.a)(y.a.mark((function r(c){var a,s;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(H(!0)),r.prev=1,r.next=4,L(e,t,n);case 4:a=r.sent,c(D(a.data)),c(Z(!0)),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),s=r.t0.response?r.t0.response.data.error:r.t0.message+", more details in the console",c(W(s));case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}(n,i,h))},children:"Submit"})]}),Object(x.jsx)(l.b,{to:a.RESET_PASS,activeClassName:"active",children:"Lost password"})]})},oe=ce.a.div(c||(c=Object(re.a)(["\n  color: red;\n"]))),ie=function(){var e=Object(C.c)(S).isLoggedIn,t=Object(C.c)(k).isLoading,n=Object(C.b)(),r=Object(s.useState)(""),c=Object(j.a)(r,2),o=c[0],i=c[1],u=Object(s.useState)(""),l=Object(j.a)(u,2),d=l[0],p=l[1],h=Object(s.useState)(""),O=Object(j.a)(h,2),m=O[0],g=O[1],v=Object(s.useState)(""),w=Object(j.a)(v,2),_=w[0],N=w[1],T=Object(s.useState)(!1),I=Object(j.a)(T,2),L=I[0],F=I[1],R=function(e){return/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i.test(e)};return L?Object(x.jsx)(b.a,{to:a.LOGIN}):e?Object(x.jsx)(b.a,{to:a.PROFILE}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Registration"}),Object(x.jsxs)(ae,{children:[Object(x.jsx)(f,{required:!0,value:o,onChange:function(e){i(e.currentTarget.value)},onBlur:function(e){R(o)?p(""):p("Incorrect email")}}),Object(x.jsx)(oe,{children:d}),Object(x.jsx)(f,{required:!0,type:"password",value:m,onChange:function(e){g(e.currentTarget.value)},onBlur:function(e){m.length>7?N(""):N("Password should contain more than 7 symbols")}}),Object(x.jsx)(oe,{children:_}),t?Object(x.jsx)(U,{}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)(Y,{type:"submit",onClick:function(e){e.preventDefault(),R(o)?(n(function(e,t){return function(){var n=Object(E.a)(y.a.mark((function n(r){var c,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(H(!0)),n.prev=1,n.next=4,A(e,t);case 4:c=n.sent,r(G(c.data.email,c.data.password)),r(Z(!0)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),a=n.t0.response?n.t0.response.data.error:n.t0.message+", more details in the console",r(W(a));case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(o,m)),F(!0)):p("Incorrect email")},disabled:!(!d&&!_),children:"Submit"})]})]})},ue=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(""),a=Object(j.a)(c,2),o=a[0],i=a[1],u=Object(C.c)(k),l=u.error,b=u.isLoading,d=u.success,p=Object(C.b)(),h=/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;return Object(s.useEffect)((function(){return p(W("")),function(){p(W(""))}}),[p]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Reset password"}),d?Object(x.jsxs)("div",{children:["We sent a recovery link to your email address: ",Object(x.jsx)("strong",{children:n})]}):Object(x.jsxs)(ae,{children:[Object(x.jsx)("div",{children:Object(x.jsx)("label",{htmlFor:"email-reset",children:"Enter your email:"})}),Object(x.jsx)("div",{children:Object(x.jsx)(f,{id:"email-reset",type:"email",value:n,placeholder:"example@mail.com",onChangeText:r})}),b?Object(x.jsx)(U,{}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)("div",{style:{color:"red"},children:o}),Object(x.jsx)("div",{children:Boolean(l)&&Object(x.jsx)("span",{style:{color:"red"},children:l})}),Object(x.jsx)(Y,{onClick:function(e){e.preventDefault(),n.match(h)?(i(""),p(function(e){return function(){var t=Object(E.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(H(!0)),t.prev=1,t.next=4,R(e);case 4:n(Z(!0)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),r=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",n(W(r));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(n))):i("Email should be valid!")},disabled:b,children:"Reset password"})]})]})},je=function(){var e=Object(b.g)().token,t=Object(s.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(C.c)(k),i=o.error,u=o.isLoading,l=o.success,d=Object(C.b)();return l?Object(x.jsx)(b.a,{to:a.LOGIN}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Set new password"}),Object(x.jsx)(f,{type:"password",value:r,onChangeText:c}),Object(x.jsx)(Y,{onClick:function(){return d((t=r,n=e,function(){var e=Object(E.a)(y.a.mark((function e(r){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(H(!0)),e.prev=1,e.next=4,P(t,n);case 4:r(Z(!0)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),c=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",r(W(c));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()));var t,n},disabled:u,children:"Set new password"}),u?Object(x.jsx)(U,{}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)("div",{style:{color:"red"},children:i})]})};!function(e){e.TEST="/test",e.PROFILE="/profile",e.LOGIN="/login",e.REGISTER="/register",e.RESET_PASS="/lostpassword",e.NEW_PASS="/newpassword/:token"}(a||(a={}));var le=function(){return Object(x.jsxs)(b.d,{children:[Object(x.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(b.a,{to:a.TEST})}}),Object(x.jsx)(b.b,{path:a.TEST,component:ne}),Object(x.jsx)(b.b,{path:a.LOGIN,component:se}),Object(x.jsx)(b.b,{path:a.REGISTER,component:ie}),Object(x.jsx)(b.b,{path:a.PROFILE,component:$}),Object(x.jsx)(b.b,{path:a.RESET_PASS,component:ue}),Object(x.jsx)(b.b,{path:a.NEW_PASS,component:je}),Object(x.jsx)(b.b,{component:K})]})},be=n(32),de=n.n(be),pe=function(){var e=Object(C.b)(),t=Object(C.c)(S).isLoggedIn;return Object(x.jsxs)("header",{className:de.a.header,children:[Object(x.jsx)(l.b,{to:a.TEST,activeClassName:"active",children:"Home"}),Object(x.jsx)(l.b,{to:a.PROFILE,activeClassName:"active",children:"Profile"}),t?Object(x.jsx)(Y,{onClick:function(){return e(function(){var e=Object(E.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:t({type:"Auth/logout"}),t(Z(!0)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(W(n));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},className:de.a.logoutBtn,children:"Log Out"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.b,{to:a.LOGIN,activeClassName:"active",children:"Login"}),Object(x.jsx)(l.b,{to:a.REGISTER,activeClassName:"active",children:"Sign up"})]})]})},he=function(){var e=Object(C.b)(),t=Object(s.useState)(!0),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(s.useEffect)((function(){e(function(){var e=Object(E.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:n=e.sent,t(D(n.data)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",console.log(r);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()).then((function(){c(!1)}))}),[]),Object(x.jsx)(l.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(pe,{}),r?Object(x.jsx)(U,{position:"center"}):Object(x.jsx)(le,{})]})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},xe=n(19),fe={userData:{},isLoggedIn:!1},me={},ge=n(50),ve={isLoading:!1,error:"",success:!1},Ce=Object(xe.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Auth/login":return Object(d.a)(Object(d.a)({},e),{},{userData:t.userData,isLoggedIn:!0});case"Auth/logout":return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return t.type,e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_LOADING":return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.isLoading,success:!1,error:""});case"app/SET_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.error,success:!1,isLoading:!1});case"app/SET_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{success:t.success,isLoading:!1,error:""});default:return e}}}),Se=Object(xe.d)(Ce,Object(xe.a)(ge.a));u.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(C.a,{store:Se,children:Object(x.jsx)(he,{})})}),document.getElementById("root")),Oe()}},[[81,1,2]]]);
//# sourceMappingURL=main.2a668274.chunk.js.map